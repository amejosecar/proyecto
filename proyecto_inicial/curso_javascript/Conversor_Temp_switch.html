<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ejercicio JavaScript 08 abril 2025</title>
    <script src="../js/menu.js" type="module"></script>
  </head>
  <body>
    <h1>Ejercicios de JavaScritp</h1>
    <div id="menu"></div>
    <br />
    <h2>Ejercicio 2: Conversor de Temperatura con switch</h2>

    <table>
      <tr>
        <td>
          <img
            src="../img/OSK2.jpg"
            width="275px"
            height="50%"
            style="border: 1px solid black"
          />
        </td>
        <td>
          <p>
            <strong>Ejercicio 2: Conversor de Temperatura</strong><br />
            <strong>Objetivo:</strong> Convertir de Celsius a Fahrenheit y
            viceversa.<br />
            <strong>Requisitos:</strong><br />
            - Un input para ingresar el valor numérico<br />
            - Un select para elegir la conversión (Celsius a Fahrenheit o
            Fahrenheit a Celsius)<br />
            - Un botón para realizar la conversión<br />
            - Un elemento para mostrar el resultado<br />
            <strong>Fórmulas:</strong><br />
            Celsius a Fahrenheit: °F = (°C × 9/5) + 32<br />
            Fahrenheit a Celsius: °C = (°F - 32) × 5/9<br />
            <br />
            <strong>Mejoras:</strong><br />
            - Un if para validar el valor del campo input
            <strong>Ingrese la temperatura:</strong><br />
            - Se agrego la conversion de kelvin a Celsius y viceversa<br />
            <br />
          </p>
        </td>
      </tr>
    </table>

    <br />

    <!-- Aquí los botones debajo de la tabla -->

    <label for="tempInput">Ingrese la temperatura:</label>
    <input type="number" id="tempInput" placeholder="Temperatura" />
    <label for="RecibirResul_t">Resultado: </label>
    <input type="text" id="RecibirResul" disabled />
    <br />
    <br />
    <label for="seleccion">Seleccione la conversión:</label>
    <select id="conversionType">
      <option value="C_a_F">Celsius a Fahrenheit</option>
      <option value="F_a_C">Fahrenheit a Celsius</option>
      <option value="K_a_C">kelvin a Celsius</option>
      <option value="C_a_K">Celsius a kelvin</option>
    </select>
    <br />
    <div id="Resultado"></div>
    <br />
    <br />
    <button id="convertButton">Convertir</button>
    <br />
    <br />
    <button id="clearButton">Limpiar</button>
    <br />
    <br />
  </body>

  <script>
    // Ejercicio 2: Conversor de Temperatura
    function convertirTemperatura() {
      let tempInput = parseFloat(document.getElementById("tempInput").value); // Obtiene el valor del input y lo convierte a número
      let conversionType = document.getElementById("conversionType").value;
      let result;

      if (
        isNaN(tempInput) ||
        tempInput === Infinity ||
        tempInput === -Infinity
      ) {
        alert("Por favor, ingrese un número válido.");
        limpiarInput(); // Limpia el input si no es un número válido
        return;
      }
      if (tempInput === "") {
        alert("Por favor, ingrese un valor en el campo de temperatura.");
        limpiarInput(); // Limpia el input si no es un número válido
        return;
      }

      switch (conversionType) {
        case "C_a_F":
          result = (tempInput * 9) / 5 + 32; // Celsius a Fahrenheit
          tipo_conversion = "ºF";
          break;
        case "F_a_C":
          result = ((tempInput - 32) * 5) / 9; // Fahrenheit a Celsius
          tipo_conversion = "ºC";
          break;
        case "K_a_C":
          result = tempInput - 273.15; // Fahrenheit a Celsius
          tipo_conversion = "ºC";
          break;
        case "C_a_K":
          result = tempInput + 273.15; // Fahrenheit a Celsius
          tipo_conversion = "ºK";
          break;
        default:
          console.error("Tipo de conversión no válido");
          return;
      }

      console.log("Valor a convertir: " + tempInput);
      console.log("Realziar la conversión a " + tipo_conversion);
      console.log("Resultado: " + result.toFixed(2) + "° " + tipo_conversion);

      document.getElementById("Resultado").innerText =
        "Resultado: " + result.toFixed(2) + tipo_conversion;

      document.getElementById("RecibirResul").value =
        result.toFixed(2) + tipo_conversion; // Muestra el resultado en el input
    }

    // Función para limpiar el campo de entrada
    function limpiarInput() {
      document.getElementById("tempInput").value = ""; // Limpia el valor del input
      document.getElementById("Resultado").innerText = ""; // Limpia el resultado
      document.getElementById("RecibirResul").value = ""; // Limpia el resultado
    }

    document
      .getElementById("convertButton")
      .addEventListener("click", convertirTemperatura);
    document
      .getElementById("clearButton")
      .addEventListener("click", limpiarInput);
  </script>
</html>
