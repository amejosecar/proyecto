<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ejercicio JavaScript 08 abril 2025</title>
    <script src="../js/menu.js" type="module"></script>
    <link rel="stylesheet" href="../css/estilo.css" />

  </head>
  <body>
    <h1>Ejercicios de JavaScritp</h1>
    <div id="menu"></div>
    <br />

    <h2>Ejercicio 5: Generador de Tabla de Multiplicar</h2>

    <table>
      <tr>
        <td>
          <img
            src="/img/tabla_mult.jpg"
            width="275px"
            height="50%"
            style="border: 1px solid black"
          />
        </td>
        <td>
          <p>
            <strong>Ejercicio 5: Generador de Tabla de Multiplicar</strong
            ><br />
            <strong>Objetivo:</strong> Generar la tabla de multiplicar de un
            número dado. <strong>Requisitos:</strong><br />
            - Un input para ingresar un número<br />- Un botón para generar la
            tabla<br />- Una tabla HTML (elemento table) que muestre la tabla de
            multiplicar del 1 al 10<br />- Cada fila debe mostrar: "X × Y = Z"
            (ej: "5 × 3 = 15")<br />- Validar que se ingrese un número válido
            <br />
            <br />
            <strong>revisar el codigo de Aitor para ver que hizo</strong>
            <br />
            <br />
            <strong>
              MEJORAS PENDIENTE: <br />crear la funcion que realice lo
              siguiente: <br />
              - coloque el valor en el titulode la tabla <br />
              - que rellene el campo Multiplicador<br />
              - que rellene el campo Producto<br />
              - VALIDAR SI TODO EL SCRIPT VA EN UN js O LA CREACION DE LA TABLA
              EN UN js
            </strong>
          </p>
        </td>
      </tr>
    </table>
    <br />

    <!-- Aquí los botones debajo de la tabla -->

    <!-- Elementos de entrada y botones -->
    <label for="num_multiplicar">Introduzca el valor a multiplicar</label>
    <input type="number" name="valor_multiplicar" id="num_multiplicar" />
    <button id="boton_calcular_tb">Calcular tabla</button>
    <button id="boton_limpiar">Limpiar</button>
    <br /><br />

    <table class="tabla-estilo">
      <thead>
        <!-- creamos los títulos de las columnas-->
        <tr>
          <th>TABLA DE MULTIPLICAR DEL NÚMERO</th>
        </tr>
        <tr>
          <th>Multiplicando</th>
          <th>Multiplicador</th>
          <th>Producto</th>
        </tr>
      </thead>
      <tbody>
        <!-- aqui creas el cuerpo que llenara la tabla-->
        <tr id="fila1">
          <!-- td es rellenar las siguientes filas -->
          <th>1</th>
          <td>......</td>
          <td>.....</td>
        </tr>
        </tr>
        <tr id="fila2">
          <!-- td es rellenar la siguientes filas -->
          <th scope="row">2</th>
          <td>......</td>
          <td>.....</td>
        </tr>
        <tr id="fila3">
          <!-- td es rellenar la siguientes filas -->
          <th scope="row">3</th>
          <td>......</td>
          <td>.....</td>
        </tr>
        <tr id="fila4">
          <!-- td es rellenar la siguientes filas -->
          <th scope="row">4</th>
          <td>......</td>
          <td>.....</td>
        </tr>
        <tr id="fila5">
          <!-- td es rellenar la siguientes filas -->
          <th scope="row">5</th>
          <td>......</td>
          <td>.....</td>
        </tr>
        <tr id="fila6">
          <!-- td es rellenar la siguientes filas -->
          <th scope="row">6</th>
          <td>......</td>
          <td>.....</td>
        </tr>
        <tr id="fila7">
          <!-- td es rellenar la siguientes filas -->
          <th scope="row">7</th>
          <td>......</td>
          <td>.....</td>
        </tr>
        <tr id="fila8">
          <!-- td es rellenar la siguientes filas -->
          <th scope="row">8</th>
          <td>......</td>
          <td>.....</td>
        </tr>
        <tr id="fila9">
          <!-- td es rellenar la siguientes filas -->
          <th scope="row">9</th>
          <td>......</td>
          <td>.....</td>
        </tr>
        <tr id="fila10">
          <!-- td es rellenar la siguientes filas -->
          <th scope="row">10</th>
          <td>......</td>
          <td>.....</td>
        </tr>

        <!-- Contenedor para la tabla de resultados -->
        <br />
        <div id="tabla_resultados"></div>
      </tbody>
    </table>

    <script>
      // Función para crear la tabla de multiplicar
      const crear_tabla = function () {
        const num_multiplicar_cal = parseInt(
          document.getElementById("num_multiplicar").value
        );

        if (isNaN(num_multiplicar_cal)) {
          console.error("Por favor introduce un número válido.");
          alert("Debes introducir un número válido.");
          return; // Validar que se introduzca un número
        }

        /* Crear el contenedor de la tabla
        const tablaContenedor = document.getElementById("tabla_resultados");
        tablaContenedor.innerHTML = ""; // Limpiar cualquier contenido previo
*/
        // // Crear el título de la tabla
        // const titulo = document.createElement("h3");
        // titulo.textContent = `TABLA DE MULTIPLICAR DEL NÚMERO ${num_multiplicar_cal}`;
        // tablaContenedor.appendChild(titulo);

        // // Crear la tabla
        // const tabla = document.createElement("table");
        // tabla.style.borderCollapse = "collapse";
        // tabla.style.width = "55%";
        /*
              for (let i = 1; i <= 10; i++) {
                const fila = document.createElement("tr");

                const celdaOperacion = document.createElement("td");
                //celdaOperacion.textContent = `${num_multiplicar_cal} x ${i}`;
                celdaOperacion.textContent = `${num_multiplicar_cal}`;
                celdaOperacion.style.border = "1px solid black";
                celdaOperacion.style.padding = "5px";

                const celdaOperacion2 = document.createElement("td");
                //celdaOperacion.textContent = `${num_multiplicar_cal} x ${i}`;
                celdaOperacion2.textContent = `${i}`;
                celdaOperacion2.style.border = "1px solid black";
                celdaOperacion2.style.padding = "5px";

                const celdaResultado = document.createElement("td");
                celdaResultado.textContent = `${num_multiplicar_cal * i}`;
                celdaResultado.style.border = "1px solid black";
                celdaResultado.style.padding = "5px";

                fila.appendChild(celdaOperacion);
                fila.appendChild(celdaOperacion2);
                fila.appendChild(celdaResultado);
                tabla.appendChild(fila);
              }
          tablaContenedor.appendChild(tabla);
            };

            */
        // Nuevo for para actualizar las filas existentes
        for (let i = 1; i <= 10; i++) {
          const fila = document.getElementById(`fila${i}`); // Obtener la fila por id
          const celdas = fila.getElementsByTagName("td"); // Obtener las celdas de la fila

          if (celdas.length >= 2) {
            celdas[0].textContent = num_multiplicar_cal; // Columna Multiplicador (constante)
            celdas[1].textContent = num_multiplicar_cal * i; // Columna Producto (resultado variable)
          }
        }
      };

      /* Función para limpiar el contenido
      const limpiarInput = function () {
        document.getElementById("num_multiplicar").value = ""; // Limpiar el input
        document.getElementById("tabla_resultados").innerHTML = ""; // Limpiar la tabla
      };
*/
      // Función para limpiar el contenido
      const limpiarInput = function () {
        document.getElementById("num_multiplicar").value = ""; // Limpiar el input

        // Limpiar las filas de la tabla desde fila1 hasta fila10
        for (let i = 1; i <= 10; i++) {
          const fila = document.getElementById(`fila${i}`); // Obtener la fila por id
          const celdas = fila.getElementsByTagName("td"); // Obtener las celdas de la fila

          if (celdas.length >= 2) {
            celdas[0].textContent = "......"; // Limpiar Columna Multiplicador
            celdas[1].textContent = "....."; // Limpiar Columna Producto
          }
        }
      };

      // Asignar eventos a los botones
      document
        .getElementById("boton_calcular_tb")
        .addEventListener("click", crear_tabla); // Evento para calcular la tabla
      document
        .getElementById("boton_limpiar")
        .addEventListener("click", limpiarInput); // Evento para limpiar el input y la tabla

      //2.- Función para crear la tabla de multiplicar FUNCIONA
      // Obtener el valor del input
      // const crear_tabla = function () {
      //   const num_multiplicar_cal = parseInt(
      //     document.getElementById("num_multiplicar").value
      //   );

      //   // if (isNaN(num_multiplicar_cal)) {
      //   //   console.error("Por favor introduce un número válido.");
      //   //   return; // Validar que se introduzca un número
      //   // }

      //   // Mostrar la tabla de multiplicar
      //   for (let i = 1; i <= 10; i++) {
      //     console.log(
      //       num_multiplicar_cal + " x " + i + " = " + num_multiplicar_cal * i
      //     );
      //   }
      // };

      // // Función para limpiar el contenido
      // const limpiarInput = function () {
      //   document.getElementById("num_multiplicar").value = ""; // Limpiar el input
      // };

      // // Asignar eventos a los botones
      // document
      //   .getElementById("boton_calcular_tb")
      //   .addEventListener("click", crear_tabla); // Evento para calcular la tabla
      // document
      //   .getElementById("boton_limpiar")
      //   .addEventListener("click", limpiarInput); // Evento para limpiar el input

      // 1.- NO FUNCIONA
      // const crear_tabla = function() {
      //   let num_multiplicar_cal = parseInt(document.getElementById("num_multiplicar").value); // Obtener el valor del input
      //   num_multiplicar_cal = num_multiplicar_cal % 10
      //     for (let i= 0; 1<= 10; ++1) {
      //       console.log(num_multiplicar_cal + " x " + i + " = " + (num_multiplicar_cal * i)); // Mostrar la tabla de multiplicar
      // }
      // };
      //       // Función para limpiar todo el contenido
      // function limpiarInput() {
      //   num_multiplicar.value = ""; // Limpiar el input
      // }

      // // Asignar eventos a los botones
      // document
      //   .getElementById("boton_calcular_tb")
      //   .addEventListener("click", crear_tabla); // Evento para calcular la tabla
      // document
      //   .getElementById("boton_limpiar")
      //   .addEventListener("click", limpiarInput); // Evento para limpiar tareas
    </script>
  </body>
</html>
